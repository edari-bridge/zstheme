#!/bin/bash
# Modular Theme Entry Point
# 이 파일은 statusline.sh에서 직접 호출됨
# THEME_NAME 환경변수를 파싱하여 적절한 모듈 조합 로드

# 모듈 로더 위치 (심볼릭 링크 해결)
_MODULAR_SOURCE="${BASH_SOURCE[0]}"
while [[ -L "$_MODULAR_SOURCE" ]]; do
    _MODULAR_DIR="$(cd -P "$(dirname "$_MODULAR_SOURCE")" && pwd)"
    _MODULAR_SOURCE="$(readlink "$_MODULAR_SOURCE")"
    [[ "$_MODULAR_SOURCE" != /* ]] && _MODULAR_SOURCE="$_MODULAR_DIR/$_MODULAR_SOURCE"
done
SCRIPT_DIR="$(cd -P "$(dirname "$_MODULAR_SOURCE")" && pwd)"

source "$SCRIPT_DIR/_modules/loader.sh"

# 테마 로드 (THEME_NAME 사용)
load_theme "$THEME_NAME"

# render() 함수는 레이아웃 모듈에서 정의됨
